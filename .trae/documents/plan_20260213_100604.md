# 前后端分离实施方案

本方案将现有的静态数据迁移至 Django 后端，并通过 API 为前端提供数据支持。

## 1. 后端建设 (Django)

### 1.1 项目初始化
- 在 `backend` 目录下创建 Django 项目 `tool_platform`。
- 创建应用 `api` 用于管理所有数据接口。

### 1.2 数据库模型设计 (`api/models.py`)
我们将为现有的四个业务模块创建对应模型：
1.  **Author (作者推荐)**
    - 字段：`name`, `category`, `tags` (JSON), `desc`, `works` (JSON), `avatar_url`, `details`, `life_span`, `honors`
2.  **Novel (小说推荐)**
    - 字段：`name`, `author`, `desc`, `category`, `tags` (JSON)
3.  **Software (软件推荐)**
    - 字段：`name`, `desc`, `link`, `tags` (JSON), `category`
4.  **QuickLink (网站导航)**
    - 字段：`name`, `url`, `desc`, `category` (分组), `icon`, `detailed_desc`

### 1.3 API 接口开发
- 使用 `djangorestframework` 创建 Serializers。
- 使用 `ModelViewSet` 提供标准的 CRUD 接口。
- 配置路由：
    - `/api/authors/`
    - `/api/novels/`
    - `/api/software/`
    - `/api/quick-links/`

### 1.4 配置与跨域
- 配置 `INSTALLED_APPS` (rest_framework, corsheaders)。
- 配置 `CORS_ALLOWED_ORIGINS` 允许前端 (http://localhost:5173) 访问。

### 1.5 数据迁移
- 编写脚本将前端 `data.ts` 中的静态数据导入到 SQLite 数据库中，确保开发环境有初始数据。

## 2. 前端改造 (Vue + Vite)

### 2.1 API 服务层
- 创建 `src/core/api/client.ts` 封装 Axios 请求。
- 创建各模块的 API 方法 (e.g., `getAuthors`, `getNovels`)。

### 2.2 组件对接
- 改造 `src/tools/author-recommend/index.vue` & `detail.vue`
- 改造 `src/tools/novel-recommend/index.vue` & `detail.vue`
- 改造 `src/tools/software-recommend/index.vue` & `detail.vue`
- 改造 `src/tools/quick-links/index.vue` & `detail.vue`
- 移除原有的 `data.ts` 引用，改为 `onMounted` 时调用 API 获取数据。

## 3. 验证
- 启动 Django 后端 (Port 8000)。
- 启动 Vue 前端 (Port 5173)。
- 验证各页面数据加载是否正常。
